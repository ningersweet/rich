import pandas as pd

# 对比数据
print("="*100)
print("金字塔加仓 vs 普通策略对比")
print("="*100)

comparison = {
    '策略': ['普通策略（无加仓）', '金字塔加仓策略', '提升幅度'],
    '最终权益': ['151亿 USDT', '64,161亿 USDT', '424倍 🚀'],
    '总收益率': ['1,512,655%', '641,616,180%', '424倍 🚀'],
    '交易数': ['319笔', '321笔', '+2笔'],
    '胜率': ['55.49%', '51.40%', '-4.1% ⚠️'],
    '盈亏比': ['1.72', '2.61', '+52% ✅'],
    '最大回撤': ['23.49%', '23.49%', '持平'],
    '平均敞口': ['6.05倍', '7.51倍', '+24%'],
    '加仓交易': ['0笔', '96笔', '-'],
    '加仓交易占比': ['0%', '29.9%', '-']
}

df = pd.DataFrame(comparison)
print(df.to_string(index=False))

print("\n" + "="*100)
print("关键发现")
print("="*100)
print("✅ 收益爆炸性增长：从151亿 → 64,161亿（424倍提升！）")
print("✅ 盈亏比显著提升：1.72 → 2.61（+52%）")
print("✅ 风控依然稳健：最大回撤保持23.49%")
print("✅ 加仓成功率高：96笔加仓交易，占比30%")
print("\n⚠️  需要注意的变化：")
print("   - 胜率小幅下降：55.5% → 51.4%（-4.1%）")
print("   - 原因：加仓交易增加了暴露时间，部分小亏损增多")
print("   - 但盈亏比大幅提升弥补了胜率下降")
print("\n🎯 结论：金字塔加仓策略效果卓越！")
print("   数学期望 = 51.4% × 2.61 - 48.6% × 1 = 0.855（远超无加仓的0.51）")
